<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268917 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="14747"/>
<h1>The TTY demystified</h1>

<div><div><div style="-evernote-webclip:true"><br><div style="font-size: 16px; display: inline-block;"><div><div style="font-size:16px;background-color:rgb(255, 255, 255);"><div><div style="vertical-align:top;background-color:rgb(255, 255, 255);"><div><div>
<h1 style="margin:8px 4px 16px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2em;line-height:normal;font-family:sans-serif;">The TTY demystified</h1>

<div style="float:right;margin-left:1em;">
<img src="The TTY demystified_files/Image.jpg" type="image/jpeg" alt="Teletypes" height="371" style="border:0px;display:block;" width="366"/>
<p style="margin:4px 0px 0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;line-height:normal;font-family:sans-serif;padding:0px;text-align:center;">Real teletypes in the 1940s.</p>
</div>

<p style="margin:15px 10px 15px 0px;"><span>The TTY subsystem is central to the design of Linux, and UNIX in general.
Unfortunately, its importance is often overlooked, and it is difficult to find
good introductory articles about it. I believe that a basic understanding of
TTYs in Linux is essential for the developer and the advanced user.</span></p>

<p style="margin:15px 10px 15px 0px;">Beware, though: What you are about to see is not particularly elegant. In
fact, the TTY subsystem — while quite functional from a user's point of
view — is a twisty little mess of special cases. To understand how this
came to be, we have to go back in time.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">History</h2>

<p style="margin:15px 10px 15px 0px;">In 1869, the <i style="font-style:italic;">stock ticker</i> was invented. It was an electro-mechanical
machine consisting of a typewriter, a long pair of wires and a ticker tape
printer, and its purpose was to distribute stock prices over long distances in
realtime. This concept gradually evolved into the faster, ASCII-based
<i style="font-style:italic;">teletype</i>. Teletypes were once connected across the world in a large
network, called <i style="font-style:italic;">Telex</i>, which was used for transferring commercial
telegrams, but the teletypes weren't connected to any computers yet.</p>

<p style="margin:15px 10px 15px 0px;">Meanwhile, however, the computers — still quite large and
primitive, but able to multitask — were becoming powerful enough to be
able to interact with users in realtime. When the command line eventually
replaced the old batch processing model, teletypes were used as input and
output devices, because they were readily available on the market.</p>

<p style="margin:15px 10px 15px 0px;">There was a plethora of teletype models around, all slightly different, so
some kind of software compatibility layer was called for. In the UNIX world,
the approach was to let the operating system kernel handle all the low-level
details, such as word length, baud rate, flow control, parity, control codes
for rudimentary line editing and so on. Fancy cursor movements, colour output
and other advanced features made possible in the late 1970s by solid state
<i style="font-style:italic;">video terminals</i> such as the VT-100, were left to the applications.</p>

<p style="margin:15px 10px 15px 0px;">In present time, we find ourselves in a world where physical teletypes and
video terminals are practically extinct. Unless you visit a museum or a
hardware enthusiast, all the TTYs you're likely to see will be emulated video
terminals — software simulations of the real thing. But as we shall
see, the legacy from the old cast-iron beasts is still lurking beneath the
surface.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">The use cases</h2>

<img src="The TTY demystified_files/Image.png" type="image/png" alt="Diagram" height="207" style="border:0px;display:block;" width="623"/>

<p style="margin:15px 10px 15px 0px;">A user types at a terminal (a physical teletype). This terminal is connected
through a pair of wires to a <i style="font-style:italic;">UART</i> (Universal Asynchronous Receiver and
Transmitter) on the computer. The operating system contains a <i style="font-style:italic;">UART driver</i> which
manages the physical transmission of bytes, including parity checks and flow
control. In a naïve system, the UART driver would then deliver the incoming
bytes directly to some application process. But such an approach would lack the
following essential features:</p>

<p style="margin:15px 10px 15px 0px;"><b>Line editing.</b> Most users make mistakes while typing, so a backspace
key is often useful. This could of course be implemented by the applications
themselves, but in accordance with the UNIX design philosophy, applications
should be kept as simple as possible. So as a convenience, the operating system
provides an editing buffer and some rudimentary editing commands (backspace,
erase word, clear line, reprint), which are enabled by default inside the
<i style="font-style:italic;">line discipline</i>. Advanced applications may disable these features by
putting the line discipline in <i style="font-style:italic;">raw</i> mode instead of the default
<i style="font-style:italic;">cooked</i> (or <i style="font-style:italic;">canonical</i>) mode. Most interactive applications
(editors, mail user agents, shells, all programs relying on <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">curses</tt> or
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">readline</tt>) run in raw mode, and handle all the line editing commands
themselves. The line discipline also contains options for character echoing and
automatic conversion between carriage returns and linefeeds. Think of it as a
primitive kernel-level <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">sed(1)</tt>, if you like.</p>

<p style="margin:15px 10px 15px 0px;">Incidentally, the kernel provides several different line disciplines. Only
one of them is attached to a given serial device at a time. The default
discipline, which provides line editing, is called <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">N_TTY</tt>
(<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">drivers/char/n_tty.c</tt>, if you're feeling adventurous). Other
disciplines are used for other purposes, such as managing packet switched data
(ppp, IrDA, serial mice), but that is outside the scope of this article.</p>

<p style="margin:15px 10px 15px 0px;"><b>Session management.</b> The user probably wants to run several programs
simultaneously, and interact with them one at a time. If a program goes into an
endless loop, the user may want to kill it or suspend it. Programs that are
started in the background should be able to execute until they try to write to
the terminal, at which point they should be suspended. Likewise, user input
should be directed to the foreground program only. The operating system
implements these features in the <i style="font-style:italic;">TTY driver</i>
(<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">drivers/char/tty_io.c</tt>).</p>

<p style="margin:15px 10px 15px 0px;">An operating system process is &quot;alive&quot; (has an <i style="font-style:italic;">execution context</i>),
which means that it can perform actions. The TTY driver is not alive; in object oriented
terminology, the TTY driver is a passive object. It has some data fields and some
methods, but the only way it can actually do something is when one of its
methods gets called from the context of a process or a kernel interrupt
handler. The line discipline is likewise a passive entity.</p>

<p style="margin:15px 10px 15px 0px;">Together, a particular triplet of UART driver, line discipline instance and
TTY driver may be referred to as a <i style="font-style:italic;">TTY device</i>, or sometimes just TTY. A
user process can affect the behaviour of any TTY device by manipulating the
corresponding device file under <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">/dev</tt>. Write permissions to the device
file are required, so when a user logs in on a particular TTY, that user must
become the owner of the device file. This is traditionally done by the
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">login(1)</tt> program, which runs with root privileges.</p>

<p style="margin:15px 10px 15px 0px;">The physical line in the previous diagram could of course be a long-distance
phone line:</p>

<img src="The TTY demystified_files/Image [1].png" type="image/png" alt="Diagram" height="82" style="border:0px;display:block;" width="472"/>

<p style="margin:15px 10px 15px 0px;">This does not change much, except that the system now has to handle a modem
hangup situation as well.</p>

<p style="margin:15px 10px 15px 0px;">Let's move on to a typical desktop system. This is how the Linux console
works:</p>

<img src="The TTY demystified_files/Image [2].png" type="image/png" alt="Diagram" height="207" style="border:0px;display:block;" width="603"/>

<p style="margin:15px 10px 15px 0px;">The TTY driver and line discipline behave just like in the previous
examples, but there is no UART or physical terminal involved anymore. Instead,
a video terminal (a complex state machine including a <i style="font-style:italic;">frame buffer</i> of
characters and graphical character attributes) is emulated in software, and
rendered to a VGA display.</p>

<p style="margin:15px 10px 15px 0px;">The console subsystem is somewhat rigid. Things get more flexible (and
abstract) if we move the terminal emulation into userland. This is how
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm(1)</tt> and its clones work:</p>

<img src="The TTY demystified_files/Image [3].png" type="image/png" alt="Diagram" height="263" style="border:0px;display:block;" width="368"/>

<p style="margin:15px 10px 15px 0px;">To facilitate moving the terminal emulation into userland, while still
keeping the TTY subsystem (session management and line discipline) intact, the
<i style="font-style:italic;">pseudo terminal</i> or <i style="font-style:italic;">pty</i> was invented. And as you may have guessed,
things get even more complicated when you start running pseudo terminals
inside pseudo terminals, à la <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">screen(1)</tt> or <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ssh(1)</tt>.</p>

<p style="margin:15px 10px 15px 0px;">Now let's take a step back and see how all of this fits into the
process model.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Processes</h2>

<p style="margin:15px 10px 15px 0px;">A Linux process can be in one of the following states:</p>

<img src="The TTY demystified_files/Image [4].png" type="image/png" alt="Process states" height="83" style="border:0px;display:block;" width="352"/>

<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;">
<tbody><tr><td style="vertical-align:top;">R</td><td style="vertical-align:top;">Running or runnable (on run queue)</td></tr>
<tr><td style="vertical-align:top;">D</td><td style="vertical-align:top;">Uninterruptible sleep (waiting for some event)</td></tr>
<tr><td style="vertical-align:top;">S</td><td style="vertical-align:top;">Interruptible sleep (waiting for some event or signal)</td></tr>
<tr><td style="vertical-align:top;">T</td><td style="vertical-align:top;">Stopped, either by a job control signal or because it is being traced by a debugger.</td></tr>
<tr><td style="vertical-align:top;">Z</td><td style="vertical-align:top;">Zombie process, terminated but not yet reaped by its parent.</td></tr>
</tbody></table>

<p style="margin:15px 10px 15px 0px;">By running <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ps l</tt>, you can see which processes are running, and which are
sleeping. If a process is sleeping, the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">WCHAN</tt> column (&quot;wait channel&quot;, the name
of the wait queue) will tell you what kernel event the process is waiting for.</p>

<div style="padding:10px;margin:10px 0px 10px 10px;background-color:rgb(221, 221, 221);font-size:.6em;">
<pre>$ ps l
F   UID   PID  PPID PRI  NI    VSZ   RSS WCHAN  STAT TTY        TIME COMMAND
0   500  5942  5928  15   0  12916  1460 wait   Ss   pts/14     0:00 -/bin/bash
0   500 12235  5942  15   0  21004  3572 wait   S+   pts/14     0:01 vim index.php
0   500 12580 12235  15   0   8080  1440 wait   S+   pts/14     0:00 /bin/bash -c (ps l) &gt;/tmp/v727757/1 2&gt;&amp;1
0   500 12581 12580  15   0   4412   824 -      R+   pts/14     0:00 ps l
</pre>
</div>

<p style="margin:15px 10px 15px 0px;">The &quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">wait</tt>&quot; wait queue corresponds to the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">wait(2)</tt> syscall,
so these processes will be moved to the running state whenever there's a state change in one of their
child processes. There are two sleeping states: Interruptible
sleep and uninterruptible sleep. Interruptible sleep (the most common case)
means that while the process is part of a wait queue, it may actually also be
moved to the running state when a signal is sent to it. If you look inside the
kernel source code, you will find that any kernel code which is waiting for an
event must check if a signal is pending after schedule() returns, and abort the
syscall in that case.</p>

<p style="margin:15px 10px 15px 0px;">
In the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ps</tt> listing above, the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">STAT</tt> column displays the current state of each
process. The same column may also contain one or more attributes, or flags:
</p>

<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;">
<tbody><tr><td style="vertical-align:top;">s</td><td style="vertical-align:top;">This process is a session leader.</td></tr>
<tr><td style="vertical-align:top;">+</td><td style="vertical-align:top;">This process is part of a foreground process group.</td></tr>
</tbody></table>

<p style="margin:15px 10px 15px 0px;">These attributes are used for job control.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Jobs and sessions</h2>

<p style="margin:15px 10px 15px 0px;">Job control is what happens when you press <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Z</tt> to suspend a program,
or when you start a program in the background using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">&amp;</tt>. A job is
the same as a process group. Internal shell commands like <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">jobs</tt>,
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">fg</tt> and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">bg</tt> can be used to manipulate the existing jobs within
a <i style="font-style:italic;">session</i>. Each session is managed by a <i style="font-style:italic;">session leader</i>, the
shell, which is cooperating tightly with the kernel using a complex protocol of
signals and system calls.</p>

<p style="margin:15px 10px 15px 0px;">The following example illustrates the relationship between processes, jobs
and sessions:</p>

<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;margin-top:1em;margin-bottom:1em;">The following shell interactions...</h3>

<img src="The TTY demystified_files/Image [5].png" type="image/png" alt="Screenshot" height="263" style="display:block;border:1px solid #444444;margin-left:16px;" width="482"/>

<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;margin-top:1em;margin-bottom:0.3em;">...correspond to these processes...</h3>

<img src="The TTY demystified_files/Image [6].png" type="image/png" alt="Table" height="257" style="border:0px;display:block;" width="677"/>

<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;margin-top:0em;margin-bottom:1em;">...and these kernel structures.</h3>

<ul>
<li>TTY Driver (<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">/dev/pts/0</tt>).

<pre>Size: 45x13
Controlling process group: (101)
Foreground process group: (103)
UART configuration (ignored, since this is an xterm):
  Baud rate, parity, word length and much more.
Line discipline configuration:
  cooked/raw mode, linefeed correction,
  meaning of interrupt characters etc.
Line discipline state:
  edit buffer (currently empty),
  cursor position within buffer etc.
</pre>

</li>

<li>pipe0

<pre>Readable end (connected to PID 104 as file descriptor 0)
Writable end (connected to PID 103 as file descriptor 1)
Buffer
</pre>

</li>
</ul>

<p style="margin:15px 10px 15px 0px;">The basic idea is that every pipeline is a job, because every process in a
pipeline should be manipulated (stopped, resumed, killed) simultaneously.
That's why <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">kill(2)</tt> allows you to send signals to entire process
groups. By default, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">fork(2)</tt> places a newly created child process in
the same process group as its parent, so that e.g. a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt> from the
keyboard will affect both parent and child. But the shell, as part of its
session leader duties, creates a new process group every time it
launches a pipeline.</p>

<p style="margin:15px 10px 15px 0px;">The TTY driver keeps track of the foreground process group id, but only in a
passive way. The session leader has to update this information explicitly when
necessary. Similarly, the TTY driver keeps track of the size of the connected
terminal, but this information has to be updated explicitly, by the terminal
emulator or even by the user.</p>

<p style="margin:15px 10px 15px 0px;">As you can see in the diagram above, several processes have
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">/dev/pts/0</tt> attached to their standard input. But only the foreground
job (the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ls | sort</tt> pipeline) will receive input from the
TTY. Likewise, only the foreground job will be allowed to write to the TTY
device (in the default configuration). If the cat process were to attempt to
write to the TTY, the kernel would suspend it using a signal.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Signal madness</h2>

<p style="margin:15px 10px 15px 0px;">Now let's take a closer look at how the TTY drivers, the line disciplines
and the UART drivers in the kernel communicate with the userland processes.</p>

<p style="margin:15px 10px 15px 0px;">UNIX files, including the TTY device file, can of course be read from and
written to, and further manipulated by means of the magic <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ioctl(2)</tt> call (the Swiss
army-knife of UNIX) for which lots of TTY related operations have been defined.
Still, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ioctl</tt> requests have to be initiated from processes, so they can't be
used when the kernel needs to communicate <i style="font-style:italic;">asynchronously</i> with an
application.</p>

<p style="margin:15px 10px 15px 0px;">In <i style="font-style:italic;">The Hitchhiker's Guide to the Galaxy</i>, Douglas Adams mentions an
extremely dull planet, inhabited by a bunch of depressed humans and a certain breed
of animals with sharp teeth which communicate with the humans by biting them
very hard in the thighs. This is strikingly similar to UNIX, in which the kernel
communicates with processes by sending paralyzing or deadly signals to them.
Processes may intercept some of the signals, and try to adapt to the situation,
but most of them don't.</p>

<p style="margin:15px 10px 15px 0px;">So a signal is a crude mechanism that allows the kernel to communicate
asynchronously with a process. Signals in UNIX aren't clean or general; rather,
each signal is unique, and must be studied individually.</p>

<p style="margin:15px 10px 15px 0px;">You can use the command <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">kill -l</tt> to see which signals your system implements.
This is what it may look like:</p>

<pre>$ kill -l
 1) SIGHUP	 2) SIGINT	 3) SIGQUIT	 4) SIGILL
 5) SIGTRAP	 6) SIGABRT	 7) SIGBUS	 8) SIGFPE
 9) SIGKILL	10) SIGUSR1	11) SIGSEGV	12) SIGUSR2
13) SIGPIPE	14) SIGALRM	15) SIGTERM	16) SIGSTKFLT
17) SIGCHLD	18) SIGCONT	19) SIGSTOP	20) SIGTSTP
21) SIGTTIN	22) SIGTTOU	23) SIGURG	24) SIGXCPU
25) SIGXFSZ	26) SIGVTALRM	27) SIGPROF	28) SIGWINCH
29) SIGIO	30) SIGPWR	31) SIGSYS	34) SIGRTMIN
35) SIGRTMIN+1	36) SIGRTMIN+2	37) SIGRTMIN+3	38) SIGRTMIN+4
39) SIGRTMIN+5	40) SIGRTMIN+6	41) SIGRTMIN+7	42) SIGRTMIN+8
43) SIGRTMIN+9	44) SIGRTMIN+10	45) SIGRTMIN+11	46) SIGRTMIN+12
47) SIGRTMIN+13	48) SIGRTMIN+14	49) SIGRTMIN+15	50) SIGRTMAX-14
51) SIGRTMAX-13	52) SIGRTMAX-12	53) SIGRTMAX-11	54) SIGRTMAX-10
55) SIGRTMAX-9	56) SIGRTMAX-8	57) SIGRTMAX-7	58) SIGRTMAX-6
59) SIGRTMAX-5	60) SIGRTMAX-4	61) SIGRTMAX-3	62) SIGRTMAX-2
63) SIGRTMAX-1	64) SIGRTMAX	
</pre>

<p style="margin:15px 10px 15px 0px;">As you can see, signals are numbered starting with 1. However, when they are
used in bitmasks (e.g. in the output of <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ps s</tt>), the least significant bit
corresponds to signal 1.</p>

<p style="margin:15px 10px 15px 0px;">This article will focus on the following signals: <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGHUP</tt>,
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGQUIT</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGPIPE</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCHLD</tt>,
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGSTOP</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTSTP</tt>, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTIN</tt>,
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt> and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGWINCH</tt>.</p>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGHUP</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Terminate</b></li>
<li>Possible actions: Terminate, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;"><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGHUP</tt> is sent by the UART driver to the entire session when a hangup
condition has been detected. Normally, this will kill all the processes. Some
programs, such as <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">nohup(1)</tt> and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">screen(1)</tt>, detach
from their session (and TTY), so that their child processes won't notice a
hangup.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGINT</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Terminate</b></li>
<li>Possible actions: Terminate, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;"><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt> is sent by the TTY driver to the current foreground job when the
<i style="font-style:italic;">interactive attention</i> character (typically <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt>, which has ASCII
code 3) appears in the input stream, unless this behaviour has been turned
off. Anybody with access permissions to the TTY device can change the
interactive attention character and toggle this feature; additionally, the
session manager keeps track of the TTY configuration of each job, and updates
the TTY whenever there is a job switch.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGQUIT</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Core dump</b></li>
<li>Possible actions: Core dump, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;"><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGQUIT</tt> works just like <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt>, but the quit character is typically
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^\</tt> and the default action is different.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGPIPE</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Terminate</b></li>
<li>Possible actions: Terminate, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;">The kernel sends <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGPIPE</tt> to any process which tries to write to a pipe with
no readers. This is useful, because otherwise jobs like
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes | head</tt> would never terminate.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGCHLD</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Ignore</b></li>
<li>Possible actions: Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;">When a process dies or changes state (stop/continue), the kernel sends a
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCHLD</tt> to its parent process. The <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCHLD</tt> signal carries additional
information, namely the process id, the user id, the exit status (or
termination signal) of the terminated process and some execution time
statistics. The session leader (shell) keeps track of its jobs using this
signal.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGSTOP</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Suspend</b></li>
<li>Possible actions: Suspend</li></ul>

<p style="margin:4px 24px;font-size:11px;">This signal will unconditionally suspend the recipient, i.e. its signal
action can't be reconfigured. Please note, however, that <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGSTOP</tt>
isn't sent by the kernel during job control. Instead, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Z</tt> typically
triggers a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTSTP</tt>, which can be intercepted by the application. The
application may then e.g. move the cursor to the bottom of the screen or
otherwise put the terminal in a known state, and subsequently put itself to sleep using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGSTOP</tt>.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGCONT</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Wake up</b></li>
<li>Possible actions: Wake up, Wake up + Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;"><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt> will un-suspend a stopped process. It is sent explicitly by the
shell when the user invokes the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">fg</tt> command. Since <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGSTOP</tt> can't be
intercepted by an application, an unexpected <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt> signal might indicate that
the process was suspended some time ago, and then un-suspended.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGTSTP</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Suspend</b></li>
<li>Possible actions: Suspend, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;"><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTSTP</tt> works just like <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt> and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGQUIT</tt>, but the magic character is
typically <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Z</tt> and the default action is to suspend the process.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGTTIN</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Suspend</b></li>
<li>Possible actions: Suspend, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;">If a process within a background job tries to read from a TTY device, the
TTY sends a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTIN</tt> signal to the entire job. This will normally suspend the
job.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGTTOU</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Suspend</b></li>
<li>Possible actions: Suspend, Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;">If a process within a background job tries to write to a TTY device, the TTY
sends a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt> signal to the entire job. This will normally suspend the job.
It is possible to turn off this feature on a per-TTY basis.</p>
</div>

<div style="width:300px;height:20em;float:left;padding:0px;background-image:url("/programming/tty/note.png");background-position:50% 50%;background-repeat:no-repeat;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;text-align:center;margin-top:30px;">SIGWINCH</h3>
<ul style="margin:4px 20px 4px 10px;padding-left:40px;font-size:11px;"><li>Default action: <b>Ignore</b></li>
<li>Possible actions: Ignore, Function call</li></ul>

<p style="margin:4px 24px;font-size:11px;">As mentioned, the TTY device keeps track of the terminal size, but this
information needs to be updated manually. Whenever that happens, the TTY device
sends <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGWINCH</tt> to the foreground job. Well-behaving interactive applications,
such as editors, react upon this, fetch the new terminal size from the TTY
device and redraw themselves accordingly.</p>
</div>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;clear:left;padding-top:1em;">An example</h2>

<p style="margin:15px 10px 15px 0px;">Suppose that you are editing a file in your (terminal based) editor of
choice. The cursor is somewhere in the middle of the screen, and the editor is
busy executing some processor intensive task, such as a search and replace
operation on a large file. Now you press <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Z</tt>. Since the line
discipline has been configured to intercept this character (<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Z</tt> is a
single byte, with ASCII code 26), you don't have to wait for the editor to
complete its task and start reading from the TTY device. Instead, the line discipline
subsystem instantly sends <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTSTP</tt> to the foreground process group. This process
group contains the editor, as well as any child processes created by it.</p>

<p style="margin:15px 10px 15px 0px;">The editor has installed a signal handler for <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTSTP</tt>, so the kernel diverts
the process into executing the signal handler code. This code moves the cursor
to the last line on the screen, by writing the corresponding control sequences
to the TTY device. Since the editor is still in the foreground, the control
sequences are transmitted as requested. But then the editor sends a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGSTOP</tt> to
its own process group.</p>

<p style="margin:15px 10px 15px 0px;">The editor has now been stopped. This fact is reported to the session leader
using a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCHLD</tt> signal, which includes the id of the suspended
process. When all processes in the foreground job have been suspended, the
session leader reads the current configuration from the TTY device, and stores
it for later retrieval. The session leader goes on to install itself as the
current foreground process group for the TTY using an <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ioctl</tt> call.
Then, it prints something like &quot;[1]+ Stopped&quot; to inform the user that a job was
just suspended.</p>

<p style="margin:15px 10px 15px 0px;">At this point, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ps(1)</tt> will tell you that the editor process is in
the stopped state (&quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">T</tt>&quot;). If we try to wake it up, either by using the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">bg</tt>
built-in shell command, or by using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">kill(1)</tt> to send <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt> to the
process(es), the editor will start executing its <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt> signal handler. This
signal handler will probably attempt to redraw the editor GUI by writing to the
TTY device. But since the editor is now a background job, the TTY device will
not allow it. Instead, the TTY will send <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt> to the editor, stopping it
again. This fact will be communicated to the session leader using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCHLD</tt>, and
the shell will once again write &quot;[1]+ Stopped&quot; to the terminal.</p>

<p style="margin:15px 10px 15px 0px;">When we type <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">fg</tt>, however, the shell first restores the line
discipline configuration that was saved earlier. It informs the TTY driver that
the editor job should be treated as the foreground job from now on. And
finally, it sends a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGCONT</tt> signal to the process group. The editor process
attempts to redraw its GUI, and this time it will not be interrupted by <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt>
since it is now a part of the foreground job.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Flow control and blocking I/O</h2>

<div style="clear:left;float:left;margin-right:20px;border:1px solid black;width:300px;"><a href="http://www.linusakesson.net/pix/data/061001-1/dsc00043.jpg" style="border:0px;color:rgb(68, 68, 68);"><img src="The TTY demystified_files/Image [1].jpg" type="image/jpeg" alt="" height="225" style="border:0px;display:block;" width="300"/></a></div>

<p style="margin:15px 10px 15px 0px;">Run <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes</tt> in an <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt>, and you will see a lot of
&quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">y</tt>&quot; lines swooshing past your eyes. Naturally, the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes</tt>
process is able to generate &quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">y</tt>&quot; lines much faster than the
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt> application is able to parse them, update its frame buffer,
communicate with the X server in order to scroll the window and so on. How is
it possible for these programs to cooperate?</p>

<p style="margin:15px 10px 15px 0px;">The answer lies in <i style="font-style:italic;">blocking I/O</i>. The pseudo terminal can only keep a
certain amount of data inside its kernel buffer, and when that buffer is full
and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes</tt> tries to call <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">write(2)</tt>, then <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">write(2)</tt> will
<i style="font-style:italic;">block</i>, moving the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes</tt> process into the interruptible sleep
state where it remains until the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt> process has had a chance to
read off some of the buffered bytes.</p>

<p style="margin:15px 10px 15px 0px;">The same thing happens if the TTY is connected to a serial port.
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">yes</tt> would be able to transmit data at a much higher rate than, say,
9600 baud, but if the serial port is limited to that speed, the kernel
buffer soon fills up and any subsequent <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">write(2)</tt> calls block the
process (or fail with the error code <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">EAGAIN</tt> if the process has
requested non-blocking I/O).</p>

<p style="margin:15px 10px 15px 0px;">What if I told you, that it is possible to explicitly put the TTY in a
blocking state even though there is space left in the kernel buffer? That until
further notice, every process trying to <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">write(2)</tt> to the TTY
automatically blocks. What would be the use of such a feature?</p>

<p style="margin:15px 10px 15px 0px;">Suppose we're talking to some old VT-100 hardware at 9600 baud. We
just sent a complex control sequence asking the terminal to scroll the display.
At this point, the terminal gets so bogged down with the scrolling operation,
that it's unable to receive new data at the full rate of 9600 baud. Well,
physically, the terminal UART still runs at 9600 baud, but there won't be enough
buffer space in the terminal to keep a backlog of received characters. This is
when it would be a good time to put the TTY in a blocking state. But how do we
do that from the terminal?</p>

<p style="margin:15px 10px 15px 0px;">We have already seen that a TTY device may be configured to give certain
data bytes a special treatment. In the default configuration, for instance, a
received <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt> byte won't be handed off to the application through
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">read(2)</tt>, but will instead cause a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt> to be delivered to
the foreground job. In a similar way, it is possible to configure the TTY to
react on a <i style="font-style:italic;">stop flow</i> byte and a <i style="font-style:italic;">start flow</i> byte. These are
typically <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^S</tt> (ASCII code 19) and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^Q</tt> (ASCII code 17)
respectively. Old hardware terminals transmit these bytes
automatically, and expect the operating system to regulate its flow of data
accordingly. This is called flow control, and it's the reason why your
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt> sometimes appears to lock up when you accidentally press
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^S</tt>.</p>

<p style="margin:15px 10px 15px 0px;">There's an important difference here: Writing to a TTY which is stopped due
to flow control, or due to lack of kernel buffer space, will <i style="font-style:italic;">block</i> your
process, whereas writing to a TTY from a background job will cause a
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt> to suspend the entire process group. I don't know why the
designers of UNIX had to go all the way to invent <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt> and
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTIN</tt> instead of relying on blocking I/O, but my best guess is that
the TTY driver, being in charge of job control, was designed to monitor and
manipulate whole jobs; never the individual processes within them.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Configuring the TTY device</h2>

<div style="float:right;margin-left:1em;">
<img src="The TTY demystified_files/Image [2].jpg" type="image/jpeg" alt="Control panel" height="365" style="border:0px;display:block;" width="400"/>
</div>

<p style="margin:15px 10px 15px 0px;">To find out what the controlling TTY for your shell is called, you could
refer to the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ps l</tt> listing as described earlier, or you could simply
run the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">tty(1)</tt> command.</p>

<p style="margin:15px 10px 15px 0px;">A process may read or modify the configuration of an open TTY device
using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">ioctl(2)</tt>. The API is described in <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">tty_ioctl(4)</tt>. Since
it's part of the binary interface between Linux applications and the kernel,
it will remain stable across Linux versions. However, the interface is
non-portable, and applications should rather use the POSIX wrappers described
in the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">termios(3)</tt> man page.</p>

<p style="margin:15px 10px 15px 0px;">I won't go into the details of the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">termios(3)</tt> interface, but if
you're writing a C program and would like to intercept <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt> before it
becomes a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt>, disable line editing or character echoing, change
the baud rate of a serial port, turn off flow control etc. then you will find
what you need in the aforementioned man page.</p>

<p style="margin:15px 10px 15px 0px;">There is also a command line tool, called <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty(1)</tt>, to manipulate
TTY devices. It uses the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">termios(3)</tt> API.</p>

<p style="margin:15px 10px 15px 0px;">Let's try it!</p>

<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:.6em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">
$ stty -a<br>
speed 38400 baud; rows 73; columns 238; line = 0;<br>
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = &lt;undef&gt;; eol2 = &lt;undef&gt;; swtch = &lt;undef&gt;; start = ^Q; stop = ^S; susp = ^Z; rprnt = ^R; werase = ^W; lnext = ^V; flush = ^O; min = 1; time = 0;<br>
-parenb -parodd cs8 -hupcl -cstopb cread -clocal -crtscts<br>
-ignbrk brkint ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl ixon -ixoff -iuclc -ixany imaxbel -iutf8<br>
opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0<br>
isig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt echoctl echoke<br>
</tt>

<p style="margin:15px 10px 15px 0px;">The <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">-a</tt> flag tells stty to display <b>all</b> settings. By default,
it will look at the TTY device attached to your shell, but you can specify
another device with <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">-F</tt>.</p>

<p style="margin:15px 10px 15px 0px;">Some of these settings refer to UART parameters, some affect the line
discipline and some are for job control. <i style="font-style:italic;">All mixed up in a bucket for
monsieur.</i> Let's have a look at the first line:</p>

<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;">
<tbody><tr><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">speed</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">UART</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">The baud rate. Ignored for pseudo terminals.</td></tr>
<tr><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">rows, columns</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">TTY driver</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">Somebody's idea of the size, in characters, of the terminal attached to this TTY device. Basically, it's just a pair of variables within kernel space, that you may freely set and get. Setting them will cause the TTY driver to dispatch a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGWINCH</tt> to the foreground job.</td></tr>
<tr><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">line</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">Line discipline</td><td style="vertical-align:top;padding:5px;background:rgb(221, 221, 221);">The line discipline attached to the TTY device. 0 is <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">N_TTY</tt>. All valid numbers are listed in <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">/proc/tty/ldiscs</tt>. Unlisted numbers appear to be aliases for <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">N_TTY</tt>, but don't rely on it.</td></tr>
</tbody></table>

<p style="margin:15px 10px 15px 0px;">Try the following: Start an <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt>. Make a note of its TTY device
(as reported by <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">tty</tt>) and its size (as reported by <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty -a</tt>).
Start <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">vim</tt> (or some other full-screen terminal application) in the
<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt>. The editor queries the TTY device for the current terminal size
in order to fill the entire window. Now, from a different shell window, type:</p>

<pre>stty -F <i style="font-style:italic;">X</i> rows <i style="font-style:italic;">Y</i></pre>

<p style="margin:15px 10px 15px 0px;">where <i style="font-style:italic;">X</i> is the TTY device, and
<i style="font-style:italic;">Y</i> is half the terminal height. This will update the TTY data structure
in kernel memory, and send a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGWINCH</tt> to the editor, which will
promptly redraw itself using only the upper half of the available window
area.</p>

<p style="margin:15px 10px 15px 0px;">The second line of <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty -a</tt> output lists all the special characters.
Start a new <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt> and try this:</p>

<pre>stty intr o</pre>

<p style="margin:15px 10px 15px 0px;">Now &quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">o</tt>&quot;, rather than <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt>, will send a <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGINT</tt> to
the foreground job. Try starting something, such as <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">cat</tt>, and verify
that you can't kill it using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^C</tt>. Then, try typing &quot;<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">hello</tt>&quot;
into it.</p>

<p style="margin:15px 10px 15px 0px;">Occasionally, you may come across a UNIX system where the backspace key
doesn't work. This happens when the terminal emulator transmits a backspace
code (either ASCII 8 or ASCII 127) which doesn't match the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">erase</tt>
setting in the TTY device. To remedy the problem, one usually types <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty
erase ^H</tt> (for ASCII 8) or <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty erase ^?</tt> (for ASCII 127). But
please remember that many terminal applications use <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">readline</tt>, which
puts the line discipline in raw mode. Those applications aren't affected.</p>

<p style="margin:15px 10px 15px 0px;">Finally, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty -a</tt> lists a bunch of switches. As expected, they are
listed in no particular order. Some of them are UART-related, some affect the
line discipline behaviour, some are for flow control and some are for job
control. A dash (<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">-</tt>) indicates that the switch is off; otherwise it is
on. All of the switches are explained in the <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty(1)</tt> man page, so
I'll just briefly mention a few:</p>

<p style="margin:15px 10px 15px 0px;"><b><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">icanon</tt></b> toggles the canonical (line-based) mode. Try this in a new <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">xterm</tt>:</p>
<pre>stty -icanon; cat</pre>
<p style="margin:15px 10px 15px 0px;">Note how all the line editing characters, such as backspace and <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">^U</tt>,
have stopped working. Also note that <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">cat</tt> is receiving (and
consequently outputting) one character at a time, rather than one line at a
time.</p>

<p style="margin:15px 10px 15px 0px;"><b><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">echo</tt></b> enables character echoing, and is on by default.
Re-enable canonical mode (<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty icanon</tt>), and then try:</p>

<pre>stty -echo; cat</pre>

<p style="margin:15px 10px 15px 0px;">As you type, your terminal emulator transmits information to the kernel.
Usually, the kernel echoes the same information back to the terminal emulator,
allowing you to see what you type. Without character echoing, you can't see
what you type, but we're in cooked mode so the line editing facilities are
still working. Once you press enter, the line discipline will transmit the edit
buffer to <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">cat</tt>, which will reveal what your wrote.</p>

<p style="margin:15px 10px 15px 0px;"><b><tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">tostop</tt></b> controls whether background jobs are allowed to write to the terminal. First try this:</p>

<pre>stty tostop; (sleep 5; echo hello, world) &amp;</pre>

<p style="margin:15px 10px 15px 0px;">The <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">&amp;</tt> causes the command to run as a background job. After five
seconds, the job will attempt to write to the TTY. The TTY driver will suspend
it using <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">SIGTTOU</tt>, and your shell will probably report this fact,
either immediately, or when it's about to issue a new prompt to you. Now kill
the background job, and try the following instead:</p>

<pre>stty -tostop; (sleep 5; echo hello, world) &amp;</pre>

<p style="margin:15px 10px 15px 0px;">You will get your prompt back, but after five seconds, the background job
transmits <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">hello, world</tt> to the terminal, in the middle of whatever you
were typing.</p>

<p style="margin:15px 10px 15px 0px;">Finally, <tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">stty sane</tt> will restore your TTY device configuration to
something reasonable.</p>

<h2 style="margin:25px 10px 8px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.3em;line-height:normal;font-family:sans-serif;">Conclusion</h2>

<p style="margin:15px 10px 15px 0px;">I hope this article has provided you with enough information to get to terms
with TTY drivers and line disciplines, and how they are related to terminals, line
editing and job control. Further details can be found in the various man pages
I've mentioned, as well as in the glibc manual (<tt style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:1.1em;line-height:normal;font-family:monospace;color:rgb(102, 102, 102);">info libc</tt>, &quot;Job
Control&quot;).</p>

<p style="margin:15px 10px 15px 0px;">Finally, while I don't have enough time to answer all the questions I get, I
do welcome feedback on this and other pages on the site. Thanks for
reading!</p>

<div style="clear:both;"><p style="line-height:normal;margin:15px 10px 15px 0px;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;font-style:normal;font-family:sans-serif;margin-top:8px;padding-top:12px;margin-bottom:4px;text-align:left;">Posted Friday 25-Jul-2008 19:46</p></div>
<div style="width:100%;word-wrap:break-word;clear:both;">
<h3 style="margin:8px 10px 2px 0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1em;line-height:normal;font-family:sans-serif;padding-top:1em;">Discuss this page</h3><p style="margin:15px 10px 15px 0px;font-variant:small-caps;font-size:0.8em;">Disclaimer: I am not responsible for what people (other than myself) write in the forums. Please report any abuse, such as insults, slander, spam and illegal material, and I will take appropriate actions. Don't feed the trolls.</p><p style="margin:15px 10px 15px 0px;font-variant:small-caps;font-size:0.8em;">Jag tar inget ansvar för det som skrivs i forumet, förutom mina egna inlägg. Vänligen rapportera alla inlägg som bryter mot reglerna, så ska jag se vad jag kan göra. Som regelbrott räknas till exempel förolämpningar, förtal, spam och olagligt material. Mata inte trålarna.</p><div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 24-Aug-2008 23:36</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very good and informative article for a complex topic<br>- the tty system really gets demystified here.<br><br>Only a small correction:<br>Your statement &quot;icanon switches between raw and cooked mode&quot; is not completely true.<br><br>'stty -icanon' still interprets control characters such as Ctrl-C whereas 'stty raw' disables even this and is the real raw mode.<br><br>Greetings,<br>-Andreas.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Fri 29-Aug-2008 18:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Very good and informative article for a complex topic<br>- the tty system really gets demystified here.<br><br>Only a small correction:<br>Your statement &quot;icanon switches between raw and cooked mode&quot; is not completely true.<br><br>'stty -icanon' still interprets control characters such as Ctrl-C whereas 'stty raw' disables even this and is the real raw mode.<br></div><br>Thanks!<br><br>Yes, you're quite right. I've fixed it.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 26-Nov-2008 08:13</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I have been trying to chew through documents in every unix book possible to explain how the TTY system really works. Your article has been more informative than all of these books. Without a programmers knowledge of how a unix kernel works, it's quite difficult for a System Administrator to understand concepts that are so crucial to their jobs. Thank you for your writing such a great article. Your help is truly appreciated.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 10-Dec-2008 13:27</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I really admire you!! I'm not use to post, but this article was by far the best I ever read about tty, i read many articles and even books but nothing so clear like this. <br>Keep doing things like this please...<br><br>Excelente!<br>Muchas Gracias<br>Fede Tula</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 20-Dec-2008 06:20</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Good article. A few years ago, after some experimentation, I wrote up some TTY stuff for myself, because I couldn't find any good documentation. For example, I never understood why process group leaders (and consequently also session leaders) are prevented from calling setsid(2). (See the manual for what setsid(2) does.) I think I can explain it now.<br><br>The process P is a pg leader if P.PID = P.PGID. In the example of the article, &quot;Job&quot; means process group, and ls (103) is a process group leader:<br><br>ls.PID = 103<br>ls.PGID = 103<br>ls.SID = 101<br>ls.CTTY = /dev/pts/0<br><br>Suppose we allow ls to call setsid(2). This would have the following consequences:<br><br>ls.PID = 103 # unchanged<br>ls.PGID = 103 # set to ls.PID, but in fact this is no change!<br>ls.SID = 103 # set to ls.PID<br>ls.CTTY = &lt;none&gt;<br><br>Now ls is session leader (ls.SID = ls.PID), and ls is process group leader (ls.PGID = ls.PID).<br><br>At this point, however, sort (104) would belong to a process group (103) whose leader's (ls's) SID (103) doesn't match sort's SID (101)!<br><br>sort.PID = 104<br>sort.PGID = 103<br>sort.SID = 101<br><br>the pg leader for pg 103 is ls (103):<br>ls.PID = ls.PGID = 103 = sort.PGID<br>however<br>ls.SID = 103 != 101 = sort.SID<br><br>We have two processes in the same process group belonging to different sessions!<br><br>ls is prevented from calling setsid() because as current process leader its PGID doesn't change when it is set to its PID, while its SID changes. Thus it would leave the session while staying in the process group.<br><br>Sort, OTOH, can call setsid(), becuase it also leaves the process group:<br>sort.PID=104<br>sort.PGID=104 # leaves process group too<br>sort.SID=104<br>sort.CTTY=&lt;none&gt;<br><br>fork(2)-ing and calling setsid(2) in the child helps, because the child gets a new PID, which will be different from any PGID of the parent (as that PGID was the PID of some process), and so when the child calls setsid(2), the child.PGID := child.PID operation will actually change the child's inherited PGID and so the child will be able to leave the process group.<br><br>Right after fork():<br>parent.PGID = some_old_PID<br>child.PID = new_PID<br>child.PGID = parent.PGID = some_old_PID<br><br>The child calls setsid():<br>child.PGID = child.PID = new_PID != some_old_PID = parent.PGID<br><br>A session leader *could* call setsid(), despite also being a process group leader, since neither its PGID nor its SID would change. However, its CTTY would be set to &lt;none&gt;, and this would result in a situation where the original controlling process (= a session leader with a CTTY), for example, your shell, has no more access to the terminal! <br><br>Furthermore, there is the rule that when a controlling process dies, each session member (each process P with P.SID = SL.SID) loses access to the terminal (and possibly get a SIGHUP on the next read/write). This clearly shows the intent that no session member shall have access to the terminal when the session leader has none. This principle would be violated if the current session leader could detach from the CTTY by calling setsid(). (Or all session members would have to lose access to the CTTY, just as if the session leader died.)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 25-Dec-2008 20:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">good job &amp; best introductory for TTY</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 20-Apr-2009 10:28</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">amazing man , this is amazing !!! best tty article ever</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  2-Jun-2009 21:27</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">very good article!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 15-Jun-2009 18:10</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Holy Smokes dude, those were the days!<br><br>Riff<br>www.absolute-anonymity.us.tc</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 15-Jun-2009 21:59</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I rarely comment on Blogs as I usually feel my input would not be necessary, but I must say this has been one of the best written and descriptive documents I have had the pleasure of learning from</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 16-Jun-2009 00:41</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">ZZZZZZZZZZZZZZZZZZZZZZZZZZ to long, jesus christ write up a summery for us lazy people</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 16-Jun-2009 02:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I've been looking for an article like this for a very long time... thanks very much for putting this together!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 16-Jun-2009 04:38</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great summary, and very useful. Thanks!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 16-Jun-2009 08:57</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Just freaking great!<br><br>script to make commands like less (more) adapt to changed screen size.<br>It even tries to exit from the command leaving the cursor on the &quot;correct&quot; place.<br>The kludge should work well with anything, that ought to be updated because of<br>a change in terminal window size.<br><br>CAVEATS<br>It's written for Unix under Mac OsX, doesn't really know if tput are implemented under Linux.<br><br>Well here we go. I'm sorry for the loss of tabs, it should have been indented.<br>I have used this for a year and a half and it really works. <br><br>#! /bin/bash <br>export LESS=&quot; -I -r -f -J -S -g -M -x 4&quot;<br># -I ignore case when searching<br># -r  &quot;raw&quot; do not preparate ctrl-chars, <br># -f force open special files (may be binary) BEWARE OF ANSISEQUENCES. <br># -J show status column <br># -S chop long lines.<br># -g highlight on last hit in the search. <br># -M Most Verbose status column...<br># -x 4 tabspacing = 4<br># --------------------------------------  the kludge starts here.................<br>ORIGLINES=$LINES<br><br>ESC=`printf &quot;\e&quot;`<br>ScreenRedraw_off=`echo -n &quot;$ESC&quot;&quot;[8m&quot;`<br>ScreenRedraw_on=`echo -n &quot;$ESC&quot;&quot;[0m&quot;`<br><br>function OkayScreen() <br>{ <br>	export PS1=&quot;&quot;   # Turns off the prompt to avoid cluttering..<br>	echo -n ${ScreenRedraw_off}<br>	CURLINES=`bash -i &lt; ~/bin/kludge.bash `<br>				#    ^^^^^^^^^^^  NB! the path where kludge.bash should be placed.<br>	if [ $CURLINES -gt $ORIGLINES ] ; then <br>		TO_SKIP=&quot;$(expr &quot;$CURLINES&quot; '-' &quot;$ORIGLINES&quot;)&quot;<br>		if [ $TO_SKIP -lt 3 ] ; then <br>			TO_SKIP=&quot;$(expr &quot;$TO_SKIP&quot; '-' '2')&quot; <br>		else<br>			TO_SKIP=&quot;$(expr &quot;$TO_SKIP&quot; '-' '1')&quot; <br>		fi<br>		tput cuu 1				#cursor up one line<br>		echo -n ${ScreenRedraw_on}<br>		echo -n &quot;\$&quot;			#restores prompt<br>		echo -n ${ScreenRedraw_off}<br>		tput cud $TO_SKIP 		<br>		echo -n ${ScreenRedraw_on}<br>		echo			# activate cli correct position.<br>	else<br>		tput cuu 2				<br>		echo ${ScreenRedraw_on}<br>	fi<br>} <br>trap OkayScreen SIGWINCH <br>#	if [ -t 0 ] ; then # 			/* this enables syntax highlighting */ <br>#	  $VIMRUNTIME/macros/less.sh $@ /* After tinkering with vim */<br>#	else <br>		/usr/bin/less $@<br>#	fi<br>trap '' SIGWINCH<br># cp ./tmp/.vimrc~</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 16-Jun-2009 09:05</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Just freaking great!<br><br>Forgot the innerpart, which makes it all work ....<br>This is a second script called kludge.bash which I have in my ~/bin folder.<br>Needs to execute this to get the changed winsize in a new process since at <br>least bash 2.05a didn't update the LINE variable in active process in the terminal window.<br><br><br> <br>#! /bin/bash<br># ### SYS Finds the number of lines in a window after window rechange - less... !#<br># kludge.scr - to be placed in the ~/bin folder is the inner workings of the bash script named less<br>PS1=&quot;&quot;<br>shopt -s checkwinsize<br>echo $LINES</div></div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 17-Jun-2009 01:58</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for the great article!<br><br>I'd recommend adding some info about the *wide* spread myth of parent's death triggering SIGHUPs for all its children.<br><br>Recall that the related behavior only applies to session leaders, and is triggered in any of the two following cases:<br><br>#1:<br>IF session leader exiting<br>..IF it has ctty<br>....send SIGHUP to foreground PG<br>..ELSE<br>....send SIGHUP to foreground PG at last time it had ctty<br><br>#2:<br>IF session leader detaching (TIOCNOTTY)<br>..send SIGHUP to foreground PG<br><br>--JuanJo</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 17-Jun-2009 12:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Actually, to be more precise:<br>#1:<br>IF session leader exiting<br>..IF it has ctty<br>....send SIGHUP to foreground PG<br>..ELSE<br>....send SIGHUP,SIGCONT to foreground PG at last time it had ctty<br><br>#2:<br>IF session leader detaching (TIOCNOTTY)<br>..send SIGHUP,SIGCONT to foreground PG<br><br><br>See: http://google.com/codesearch/p?hl=en&amp;sa=N&amp;cd=2&amp;ct=rc#p4tPAkVsQ_c/linux-2.2.26/drivers/char/tty_io.c&amp;l=537&quot;<br><br>--JuanJo AKA jjo</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Sun 21-Jun-2009 14:58</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">A reader pointed out that VT (in VT-100) stands for &quot;video terminal&quot;, not &quot;virtual terminal&quot;. This has been fixed.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 30-Jul-2009 15:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for the article, really helped !</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 30-Jul-2009 21:09</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thankyou, I found this to be an excellent TTY primer.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat  1-Aug-2009 00:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Bookmarked.<br>Good tips =)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 10-Aug-2009 09:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very nice. I'm currently (trying to) write a Unix-clone mostly from scratch, and this is a good resource on how TTYs are supposed to work.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 16-Aug-2009 17:32</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi--how are things in Sweden?<br><br>Every once in a while I get up the ambition to complain about the width of text on a web page, and you're the lucky winner today--sorry ;-)<br><br>This could be a good article--from the looks of it, it probably is--but why is it (and so many other web pages today) so wide? <br><br>Checking one line at random, it is 130 characters wide:  <br><br>echo &quot;Meanwhile, however, the computers — still quite large and primitive, but able to multitask — were becoming powerful enough to&quot; | wc<br>      1      20     130<br><br>Oh, and I'm ignoring the stuff in the left hand panel / column--I simply horizontally scroll so that panel is not visible.<br><br>I have three choices if I want to read your article:<br><br>   * horizontally scroll on each line<br><br>   * set the type size very small (or zoom out), so an entire line appears on the screen, then use a magnifying glass<br><br>   * copy and paste the text to a file and read it in an editor--possibly deleting hard line breaks to let the text flow better.<br><br>Ideally, and I've seen it done this way, so I believe it can be done:<br><br>   * the text should be arranged to wrap to the width of the (reader's) window<br><br>   * if there are long lines of code (pre-formatted text), or wide pictures, or something like that, the other text should still wrap to the width of the reader's window, although he'll have to horizontally scroll to see the full picture or code or whatever.  (This is the part I'm specifically referring to as having seen done, but I can't remember any details (like an example, or how to do it--I'll try to pay attention and find some).<br><br>Anyway, sorry for the rant--thanks for making the effort to create and disseminate pages with information like this!<br><br>Randy Kramer</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  4-Sep-2009 11:24</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Wonderful article.the explanation is meticulous and elegant. Thank you.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 12-Sep-2009 16:09</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">GREAT ARTICLE!!! Read articles and books on Terminal I/O and none as clear as this summary.<br>Well Done!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 23-Sep-2009 16:26</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for a good article</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 17-Oct-2009 10:12</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for this very good article</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  3-Nov-2009 18:53</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for such a wonderful article. I am a beginner in tty and your article was of great help!!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu  5-Nov-2009 20:54</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">nice article..thanx for sharing ur knowledge  :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 22-Dec-2009 21:58</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks a lot for this precise article ! This has been very useful to me... (reading an external device on RS232 from bash...)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  9-Feb-2010 08:34</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you for sharing such a great artical. -Hai</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 15-Apr-2010 11:08</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks a lot for this great article</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  4-May-2010 10:36</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Wonderful article!  I never learned much about unix process stuff (apart from little practical things like piping, detaching, killing, etc), but now I feel like I'm starting to see what's behind the magical terminals!  Thank you :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 12-May-2010 03:00</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">&quot;daemonizing&quot; a process - detaching from the tty - would probably also fit here. -rurban</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 13-May-2010 03:17</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">What does TTY mean?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Thu 13-May-2010 17:33</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">What does TTY mean?</div><br>TeleTYpe.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 14-Jul-2010 05:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">What Randy Kramer said.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 24-Jul-2010 16:28</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">excellent article, well done!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 25-Jul-2010 02:31</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">The process of daemonizing is covered elsewhere, easy to Google. It involved forking, killing the parent, then calling setsid() in the child, and optionally chdir()ing to / and closing stdin/stdout/stderr. <br><br>I am currently working on writing a toy OS, and this was very useful in its treatment of the basic structure of the TTY subsystem. Thanks.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>ralph</b><br>Ralph Corderoy<br>Sun 25-Jul-2010 16:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Nice article, various points...<br><br>The erase and kill characters used to be # and @, and as you were printing on paper there was no rubbing out, so you might see<br><br>    $ ls @wc -l /etvc##c/passwd<br>    42 /etc/passwd<br>    $<br><br>where the `@' was killing the whole line entered so far and the `##' was erasing the preceding `vc'.<br><br>It's only modern shell that provide line editing, hence shell history substitutions like `!!' and `!$' existing.  If /bin/sh is a plain old non-line-editing shell on your system then you can see the difference in tty settings by using `stty -a' from another terminal to capture the differences.  Don't run stty(1) from, e.g., the bash shell since the shell will alter the tty settings before running stty.  Here, bash has the literal next character, lnext, being undefined and turns off -icrnl, -icanon, and -echo.<br><br>The above example of # and @ was achieved by<br><br>    $ sh<br>    $ stty erase \# kill @ -crterase -echok<br>    $ ls @wc -l /etvc##c/passwd<br>    42 /etc/passwd<br>    $ stty sane<br>    $ exit<br>    $ <br><br>where /bin/sh is dash(1) on this Ubuntu system.<br><br>&quot;Write permissions to the device file are required, so when a user logs in on a particular TTY, that user must become the owner of the device file.&quot;  I think it's read permission that's required to alter a tty's settings.  It did used to be write, in the very early days, but since write(1) and mesg(1) meant users could write to one another's terminals it also meant they could alter their settings.  Much fun could be had with changing erase to `e' for a second and back again at random intervals whilst the user was trying to type.  So it was switched to require read permission which only the owner of tty normally has.  This can be seen in stdin of stty needing to be re-directed to specify the terminal, and not stdout, e.g. `stty -a &lt;/dev/pts/1'.<br><br>Flow control, e.g. ^S and ^Q, existed long before the signals for job control.  IIRC, it was Berkeley that added all the ^Z stuff and related signals, it wasn't Bell Labs.<br><br>The Linux kernel doesn't bother to implement all of the normal control characters.  Flush is one that's missing, IIRC, which is set with stty's `eol2'.  It's a shame.<br><br>Cheers,<br>Ralph.<br><br>P.S.  There's a typo, `1970:s'.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Sun 25-Jul-2010 18:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><p style="margin:0px 0px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;line-height:normal;font-family:sans-serif;"><b>ralph</b> wrote:</p>Nice article, various points...</div><br>Thanks! That was very interesting. It hadn't occured to me that erase/kill would be usable without interactive line editing, but it makes sense.<br><br><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><p style="margin:0px 0px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;line-height:normal;font-family:sans-serif;"><b>ralph</b> wrote:</p>P.S.  There's a typo, `1970:s'.</div><br>Changed to 1970s.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  2-Aug-2010 22:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">How do you restart bash in tty0? For some reason my bash has died in all tty's (Ctrl-Alt-Fn). I does not show the login prompt anymore.<br><br>How can I restart it? I cannot reboot the machine. I can ssh into it from another machine.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Thu  5-Aug-2010 10:10</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">How do you restart bash in tty0? For some reason my bash has died in all tty's (Ctrl-Alt-Fn). I does not show the login prompt anymore.<br><br>How can I restart it? I cannot reboot the machine. I can ssh into it from another machine.</div><br>I don't know what's wrong in your particular case, but it's init (pid 1) that's supposed to (re-)start the login program in each terminal. You can modify init's configuration at runtime by editing /etc/inittab and then doing &quot;kill -HUP 1&quot;. But it's probably not an error in the configuration file, so use ps(1) to investigate what processes are running in the terminals.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 10-Aug-2010 01:41</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article.<br>For another great source on TTY devices you can go to:<br>http://publib.boulder.ibm.com/infocenter/aix/v6r1/index.jsp?topic=/com.ibm.aix.genprogc/doc/genprogc/ttysys.htm<br><br>Enjoy,<br>Ori</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 13-Aug-2010 12:59</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very good article...<br>We want the part II were the concepts gets even closer to the Linux implementation...<br><br>just an example:<br>an xterm session under ssh when resized makes the TTY device to adjust the terminal size and generate SIGWINCH signal for the running app to know about the change...<br>but if the xterm is under a serial line when resize occurs NOTHING happens (not kernel side size update, not SIGWINCH signal)... I know under serial line xterm does not communicate the size change, well where is the the place to patch in order to solve this, from the xterm side it would be very easy to send a escape sequence telling the TTY driver the new size but this driver should be patched for catching it and react as in the ssh case....<br><br>Thanks for your out of ordinary (little or inexistant content + lot of google adds) article. I hope we can get a deeper version someday.<br><br>Pat</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 21-Aug-2010 05:00</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi,<br><br>A very interesting article. I have just published a related article on the terminals in French : http://www.etud.insa-toulouse.fr/~mcheramy/wordpress/?p=198<br>(And if you don't understand french, there are few interesting links in english at the end)<br><br>Thanks.<br>Max.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 27-Aug-2010 14:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">How to Modify the tty driver so that control-W erases the previous word typed by the user.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 25-Oct-2010 15:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Nithin: thanks for the page....i got a lot of information from ur web page...</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  1-Dec-2010 15:45</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article, very imformative please explain how to prevent UART overrun</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu  9-Dec-2010 19:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi there ! Would it be possible to create a raw tty which redirects input to some fifo and another tty to read from that fifo ? I know that is extrange what I'm asking...I'm building a z80 emulator and if this is possible would help me to test the input/output routines of the emulator without writting code to read/display...</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 26-Dec-2010 22:32</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">very helpful indeed Thanks a ton.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu  6-Jan-2011 11:46</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Good article.Thanks you very much<br><br>/Renjith G</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 12-Jan-2011 14:12</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">this article is very good .<br>now i have a question.<br>linux use /dev/console in booting before the init called  . so i write a progrm that run after kernel booted and pass my progrm with option init in boot parameter and bypass init program so the first program that run is my program.<br>this is my question : how i correct my program to resive signels from /dev/consoole?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 25-Jan-2011 10:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Awesome article! Its been very helpful in understanding TTY layer as whole. <br><br>Thanks<br>Ambresh</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  9-Feb-2011 18:56</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi, this seems to be an excellent technical article, however is there any chance you can provide a broad description of TTY for a non technical audience. e.g. explain in simple language the origin, function and implications of TTY.<br>You may not consider this your remit, which is fair enough.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 16-Feb-2011 08:57</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great Job, learned much</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 23-Feb-2011 21:35</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very good document, thanks!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 25-Feb-2011 23:10</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">great article. I have known the term 'TTY' for a long time and never knew what the history behind it. Seeing how even current day UNIX system still make use of TTY is quite interesting to me. Now I feel more 'connected' when I press a key on my keyboard and seeing a character appear on the monitor screen. A good read.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  1-Mar-2011 22:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Wow! The name of the article says it all, but for real this time! Thanks!<br><br>Regards,<br>Newman</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 18-Mar-2011 21:18</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Amazing article. Thanks so much for putting this together. I've been using Linux for 10 years, and this taught me quite a bit.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 11-Apr-2011 20:08</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">ZZZZZZZZZZZZZZZZZZZZZZZZZZ to long, jesus christ write up a summery for us lazy people</div>if(easilyBored || notInterested){<br>    goToAnotherSiteThen();<br>} else {<br>    try {<br>        readAndLearn();<br>    }<br>    catch(DontUnderstandException dde){<br>        wiki(dde.getSubject());<br>    }<br>    finally {<br>        enjoyArticle();<br>    }<br>}</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 29-Jun-2011 14:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fantastic expalanation. Keep up the good work</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  1-Jul-2011 04:12</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Greatly informative article. Of course, Bookmarked.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 11-Jul-2011 16:18</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very informative article; Thanks for knowledge sharing ...</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  7-Sep-2011 15:48</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fucking awesome. Thanks a lot for the info!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  7-Sep-2011 15:49</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fucking awesome. Thanks a lot for the info!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  9-Sep-2011 16:25</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Excelent article, I started to read it at work, now I'm printing it to read it more carefuly on my way home. Thanks for sharing all this!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 19-Sep-2011 22:32</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you for sharing your knoledge so generously!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 27-Sep-2011 08:01</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">thanks for the works!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 30-Sep-2011 16:39</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi,<br><br>I am currently working on Solaris sparc 10, where i am seeing below problem with default setting.<br><br>Shell is allowing me to type in only 256 characters. e.g. <br><br>bash-3.00$ cat<br>SunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLSunStudio12u1-SunOS-SPARC-tar-MLS<br><br>If i attempt to input more data nothing happens. After going through your notes it seems like i am crossing line buff limit. If yes can you please suggest how i can increase this limit<br><br><br>Minal Patil</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 24-Oct-2011 21:11</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">can anybody give exact command for sending messages via linux?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  2-Nov-2011 03:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Hi,<br>can you please suggest how i can increase this limit<br></div><br>http://tinyurl.com/6yql6r8</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 14-Nov-2011 21:33</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">From your disclaimer: “Please report any abuse, such as insults, slander, spam and illegal material”<br><br>Just a note: “slander” only applies to verbal communication. For written, use the term “libel” instead. :-D</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 22-Nov-2011 16:04</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for writing the article.  It was a bit heavy going at times, but it's helped me understand some of what is going on with the whole terminal thing.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 12-Dec-2011 04:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This was enormously informative and helpful. I've bookmarked it for future use. Thank you!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 21-Dec-2011 04:20</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I am trying to solve a mystery with certain services started at reboot or via a root crontab.<br>These sercvices seem to fail, unless I login to a shell that has a proper TTY setup<br>(eg: PuTTY of any type of ssh session)<br>If I start up these services with a proper tty, they work and continue to run.<br>My theory is that on reboot or via root crontab there is no tty.<br><br>How can I create a psuedo tty master/slave pair underwhich to run these services so they work, with me doing a manual ssh login......?<br><br>Larry Wichter</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 12-Jan-2012 15:37</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very informative article, thanks very much for sharing it with the web.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 18-Jan-2012 01:00</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Real great article thanks very much.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 20-Feb-2012 05:35</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Superb post.  Thank you.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  5-Mar-2012 18:15</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article! I'm currently running a real Teletype ASR-33 on a serial port with Ubuntu. I have to use stty to set the proper parameters for an uppercase-only terminal, change tabs to spaces, etc. Is there a way to determine what port I'm logging into (ttyS0? S1? S2, S3 or S4?) Right now, I have to run stty on all ports and get an access denied error for any port I'm not connected to. I'd like to find out what port I'm on and only run the stty on that port. Thanks for your time!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  2-Apr-2012 14:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Is there a way to determine what port I'm logging into (ttyS0? S1? S2, S3 or S4?)</div>Sounds like a job for the tty(1) command.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  2-Apr-2012 19:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I think the commentary about line editing being part of the operating system to simplify programs is  potentially misleading - the simplification of applications is a side effect.<br><br>If you're connected something like a VT100, the terminal handles line editing, and programs send control codes to the terminal to switch between cooked mode and raw mode. When virtual terminals were implemented, this functionality became part of the operating system to maintain compatibility with existing software.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 12-Apr-2012 01:15</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is a really great job!  Really helped with background jobs writing to stdout and going to sleep (putting 'stty -tostop;' before background command).  It takes much time to generate meaningful examples - much appreciated!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 14-Apr-2012 13:54</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks !!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 14-Apr-2012 14:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great Article and good writing. I came looking for one answer (which I found) and found that I could not stop reading (normally a sign of a good article).<br><br>Having been around as the last of the Telex's died out, having designed UART circuits, worked on Xenix and Unix Systems, and naturally Linux systems, your article plugged some reasonable holes I had on the subject...<br><br>Thanks again...</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 17-Apr-2012 18:35</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is a very good article and I've read and enjoyed it multiple times (no, really!).<br><br>One thing I think it does lack is that when it's talking about signals, it should mention about Linux's new(ish) signalfd.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat  5-May-2012 16:56</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great and insightful article!!!<br>From this article I gain general knowledge about architecture<br>of Linux devices(LowLevelDriver&lt;-&gt;LineDiscipline&lt;-&gt;HighLevelDriver).<br>It's really a core of Linux I/O.  <br><br>Thank you very much.<br>___________________________<br>Sichkar Dmytro from Ukraine<br>dmbios@mail.ru</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 16-May-2012 01:52</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you so much. Great article!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 24-May-2012 17:22</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Good stuff, thanks!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 28-May-2012 04:48</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>whizziwig</b><br>David Blackman<br>Mon  4-Jun-2012 19:16</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Can you explain why sometimes my terminal gets diseased, and the line I'm typing overwrites itself, or the cursor is in the wrong place, or similar symptoms? is there a way to fix it?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  4-Jun-2012 21:11</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Love the article, but I did have a comment -- namely that I wouldn't describe the DEC VT100 as solid state because of its CRT.  Again, though, the article is great!  Thanks!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  5-Jun-2012 09:20</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Absolutely terrific!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  5-Jun-2012 21:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">That brings back old memories. The TTY shown is from the 1940's were 5 bit rather than the later 8 bit (really 7 bit plus parity) machines seen in the late 60's and 70's. Next retro core memory come back.<br><br>RC Roeder</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  6-Jun-2012 05:02</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fantastic! awesome article you should think about to write a book or something, It clarified me some things, even having 5+ years of Unix experience.<br><br>Al Mejida.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 12-Jun-2012 20:59</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks a lot for writing this!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  6-Jul-2012 17:46</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">&quot;yes&quot; program , produced in 2009 !<br><br>  Thank you David McKenzie for your contribution to open source community !<br><br>  I am just wondering what in your background that enabled the FSF to accept such worthless contribution ?<br><br>  Member of what masonic lodge or what church or son of a war hero or billonarties you have to be so they accept that piece of crap ?<br><br>  For reference:<br><br> yes command - otputs a line on tty until killed !<br><br>  coded and added to Linux in 2009.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  6-Jul-2012 17:48</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !<br><br>  Thank you David McKenzie for your contribution to open source community !<br><br>  I am just wondering what in your background that enabled the FSF to accept such worthless contribution ?<br><br>  Member of what masonic lodge or what church or son of a war hero or billonarties you have to be so they accept that piece of crap ?<br><br>  For reference:<br><br> yes command - otputs a line on tty until killed !<br><br>  coded and added to Linux in 2009.</div><br>interesing point although might be harsh on a boy who modified a hello world program and managed to add it to Linux.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  6-Jul-2012 17:50</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !</div><br><br>  I disagree an entire source code of the yes in TARball may be a good example of how to add a new command to Linux, sort of like a new command template.<br><br><br><br>www.LinuxCAD.com</div></div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Fri  6-Jul-2012 18:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !<br>...<br>Member of what masonic lodge or what church or son of a war hero or billonarties you have to be so they accept that piece of crap ?<br></div><br>Your angry ignorance is amusing. Do you also consider echo or /dev/zero crap? Unix commands are simple by design, so that they can be combined easily. For instance, off the top of my head, here's a way to list the first 100 powers of two: (echo 1; yes 'p2*')|dc|head -n 100</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  6-Jul-2012 23:17</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">int main( in argc, char** arg)<br> {<br>   if ( argc &lt; 2 )<br>   {<br>      printf( &quot;\nNo program, prints line to tty until killed !... please put now my name in Linux.\n&quot; );<br>      exit(1);<br>   }<br>   while(1)<br>   {<br>      printf( argv[1] );<br>   };<br> }</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 13-Jul-2012 19:37</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you!!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 14-Jul-2012 05:33</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Shell is allowing me to type in only 256 characters. e.g. <br><br>bash-3.00$ cat<br>SunStudio12u1-SunOS-SPARC-<br><br>Minal Patil</div><br>Can Web Master please delete this post so that the page would not be made so wide in some browser to be unreadable?<br>Thanks.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Sat 14-Jul-2012 13:39</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Can Web Master please delete this post so that the page would not be made so wide in some browser to be unreadable?<br>Thanks.</div><br>I've added some &quot;max-width&quot; attributes that should fix the problem. What browser do you use?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 15-Jul-2012 00:18</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><p style="margin:0px 0px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;line-height:normal;font-family:sans-serif;"><b>lft</b> wrote:</p><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Can Web Master please delete this post <br></div><br>I've added some &quot;max-width&quot; attributes that should fix the problem. What browser do you use?</div><br>Thanks for being so responsive.<br><br>I did realize, later, that it was just elinks that laid out the page to be annoyingly wide.<br><br>$ elinks http://www.linusakesson.net/programming/tty/index.php<br><br>(Use &quot;]&quot; or mouse to click near the right border of the terminal to scroll right.)<br><br>I also found, later, that removing the posting containing a unusually long single-word helps, but a little scrolling left and right is still needed in elinks.<br><br>Since this is restricted to an uncommon browser, don't worry about it.<br><br>(I started using elinks on one computer due to the recent development on Linux desktop that resulted in poor support for older video cards where Firefox would freeze the entire desktop when rendering some common web content. elinks worked great for text content.)<br><br>By the way, thanks for the page. It was a great read.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Sun 15-Jul-2012 22:29</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><p style="margin:0px 0px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:0.7em;line-height:normal;font-family:sans-serif;"><b>lft</b> wrote:</p><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Can Web Master please delete this post <br></div><br>I've added some &quot;max-width&quot; attributes that should fix the problem. What browser do you use?</div><br>Thanks for being so responsive.<br><br>I did realize, later, that it was just elinks that laid out the page to be annoyingly wide.</div><br>I use elinks quite a lot myself, actually, for a fast, nonsense-reduced browsing experience. The page is not wider than the screen on my setup (elinks version 0.12pre5 with CSS enabled).</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 19-Sep-2012 23:01</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">It's not to keep application simple that the line discipline is in the kernel.  The unix philosophy is quite the contrary, to keep the KERNEL simple, and deport to user space the handing of complexities that they don't want inside the kernel. (See for example interrupted system calls and signal handling, but that's another topic).<br><br>The reason why the line discipline is inside the kernel, is to avoid context switches at the reception of each character (which in the early times of small core memories, would imply swap-outs and swap-ins!).  So the line discipline keeps in a kernel buffer a line of input, and since it's simple enough to test for a specific byte and decrement a counter to implement the backspace &quot;editing&quot; (and a few other simple editing functions), it's done there.<br><br>The alternative, is to use the raw mode, where the characters are forwarded to the application as soon as they're received, which is needed for more sophisticated editors, like the (at the time) famously known Eight Megabytes And Constantly Swapping editor (emacs).  And indeed, since emacs had to use this raw mode, which implies a context switch at the reception of each character typed, it was constantly swapping when the computers hadn't enough memory to keep emacs and all the other programs in core.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 20-Sep-2012 04:54</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks a lot! Was looking for this kind of information all over the place, never found anything good. If you got more please keep it coming.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 28-Sep-2012 00:03</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">The most concise/intuitive article I've read so far on the subject. Diagrams were especially helpful. If you manage to write a book on Linux is such manner, no doubt it's going to be a bestseller... <br><br>Thanks,<br>Val.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  5-Oct-2012 19:38</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">ZZZZZZZZZZZZZZZZZZZZZZZZZZ to long, jesus christ write up a summery for us lazy people</div><br>too many Zs. write a shorter insult with proper spelling for us non-moron people</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 11-Nov-2012 21:09</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for the page. You help me a lot.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 29-Nov-2012 11:27</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great job!<br><br>I have just a suggestion.<br>This article can be used as a first step by people (like me...) who don't have a deep knowledge on the topic,<br>so why not to add a &quot;References&quot; section to help going into more depth?<br><br>Cheers!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 30-Dec-2012 10:26</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you very much for this great article!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  4-Jan-2013 16:38</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Excellent!! Thank you very much for this article. Watching and trying to understand technological issues via their historical context and being showed how they evolved make it really a pleasure to follow your explanations and very easy to get them.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  6-Feb-2013 02:27</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very useful article, thanks.<br><br>A couple of clarifications that would be great:<br><br>1. It seems that there is a 1:1 correspondence between a session and the associated tty (bearing in mind that the associated tty may be &quot;none&quot;) - is that true? In other words, can one session include processes with different ttys, and can processes in two different sessions be associated with the same tty? (and if so... what does that mean?!)<br><br>2. What are the exact rules for automatic raising of SIGHUP? It seems that this is raised by the TTY driver, right? Does the POSIX specification specify when this should happen and who should receive it, and does Linux follow that? I have a confusing situation involving ssh -t raising SIGHUP on exit, while logging out of an interactive ssh login apparently does not.<br><br>Thanks<br>D</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 11-Mar-2013 18:54</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Wow! Thanks Linus for the article.<br>This is how I learned about things in the past, from people who knew their craft well. Compare this with how we do it today - don't think, google first, rummage through incoherent posts, forums, mailing lists and if you are patient enough might be able to put pieces together to get  just the clues/pointers to the information you want! So much for the 'age of information'.<br>Keep up the good work!<br>Thanks.<br><br>- VJ</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  2-Apr-2013 13:01</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Real very informative! Kudos to your effort and thanks for hard work!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>ulzha</b><br>ulzha<br>Sun  7-Apr-2013 16:59</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fantastic, tack så mycket!<br><br>I'm not writing an OS, but writing an improved screen or GUI terminal I do consider.<br><br>In particular I was interested in whether there was an API to tell foreground job's output and background job's output apart (e.g. associating a PID with each chunk output) to highlight them understandably or something. Now I figure that I just might be able to implement that by wisely trapping SIGTTOUs perhaps...</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 18-May-2013 13:57</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"> So much for the 'age of information'.</div><br>Well, it is the age of information. Noone said it was the age of wisdom.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 18-May-2013 14:08</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !<br><br>  Thank you David McKenzie for your contribution to open source community !<br><br>  I am just wondering what in your background that enabled the FSF to accept such worthless contribution ?<br><br>  Member of what masonic lodge or what church or son of a war hero or billonarties you have to be so they accept that piece of crap ?<br><br>  For reference:<br><br> yes command - otputs a line on tty until killed !<br><br>  coded and added to Linux in 2009.</div><br>Actually, &quot;yes&quot;, which is part of GNU coreutils, has been around since, like forever, being an implementation of the same-named Unix command.<br><br>David MacKenzie is the author of many of coreutils' commands, including chgrp, chmod, chown, date, dirname, expand, fold, ginstall, groups, head, mkdir, mkfifo, mknod, nice, printenv, printf, rmdir, stty, su, tty, uname, unexpand, and obviously yes; and is co-author of many others. But he is probably best known for autotools, which is one of the most central pieces of free software, as any distribution maintainer could tell you.<br><br>Now, what have YOU done for GNU or Linux or free software?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 24-Aug-2013 23:48</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">So I was searching for information about the TTY system, and where did I, by chance, end up? Thanks for the great article. :-)<br><br>/radiantx</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  6-Sep-2013 14:10</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">really great post ! Thanks a lot for the general understanding of the how, instead of the usual &quot;to do this, do that&quot; ! And I'll stop here because having three exclamation mark in one sentence is a clear sign of mental disorder, but thanks again.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 15-Sep-2013 22:58</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Excellent post on TTY!! Thank you -- Aananth C N</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 10-Oct-2013 07:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">thank you. very interesting.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 11-Dec-2013 15:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I'll join the crowd here to say thank you for the time you spent on this article, I've appreciated it a lot.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 13-Dec-2013 16:13</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you. I don't think this article will EVER be outdated :P</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 27-Dec-2013 16:55</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Great article! I'm currently running a real Teletype ASR-33 on a serial port with Ubuntu. I have to use stty to set the proper parameters for an uppercase-only terminal, change tabs to spaces, etc. Is there a way to determine what port I'm logging into (ttyS0? S1? S2, S3 or S4?) Right now, I have to run stty on all ports and get an access denied error for any port I'm not connected to. I'd like to find out what port I'm on and only run the stty on that port. Thanks for your time!</div><br>Have you tried ls /dev/tty.* to get a listing of connected devices?  On my Mac OS X this cues me into which tty device to use.  I'm running a DEC Writer III.  :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 11-Feb-2014 20:38</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for this enlightening article! It is a bit wordy, but I completely expected that.<br><br><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">I am currently working on writing a toy OS</div><br>You work for Microsoft?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 12-Feb-2014 03:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">First teletype was made in Germany around the 30s or 40s. One of the many types of teletypes was the Hellschreiber. There were also other types but all worked the same: you punch letters and they are remote printed to one or more receiving stations. After the war in the operations of confiscating the german patents, the US developed the teletype further. That's missing from your article.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 14-Feb-2014 09:32</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">First teletype was made in Germany around the 30s or 40s. One of the many types of teletypes was the Hellschreiber. There were also other types but all worked the same: you punch letters and they are remote printed to one or more receiving stations. After the war in the operations of confiscating the german patents, the US developed the teletype further. That's missing from your article.</div><br>The Hellschreiber device is not a teletype, it's more of a facsimile machine.  You pressed a letter, and a _bitmap_ of the letter was transmitted (twice to account for mechanical asynchrony).  On the receiving side, marks and spaces were literally penned onto the paper, creating two copies of the text, one atop the other.  Due to said asynchrony, it was often skewed, but because two copies were printed, nonetheless legible.<br><br>This is a very, very different mode of operation from the teletypes described above.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 14-Feb-2014 09:45</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">First teletype was made in Germany around the 30s or 40s. One of the many types of teletypes was the Hellschreiber. There were also other types but all worked the same: you punch letters and they are remote printed to one or more receiving stations. After the war in the operations of confiscating the german patents, the US developed the teletype further. That's missing from your article.</div><br>I don't know of the history of teletypes in Germany, but the Teletype Model 15 was first produced in 1930 and was in wide use before and after World War II. Both in military and civilian contexts.<br><br>The Model 15 wasn't the first model produced by the Teletype corporation, but it was probably the most widely used pre-war model. It might have been the most widely used model, period.<br><br>Like I said, I don't really know anything about German teletypes, but looking at the Wikipedia page for Hellschreiber, that device is quite different than the Teletype corporation's devices. It looks like the Hellschrieber sends pixels and might actually be more similar to FAX machines than Teletype devices.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 17-Feb-2014 08:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">man! you made me see the light!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 27-Feb-2014 08:55</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Hi--how are things in Sweden?<br><br>Every once in a while I get up the ambition to complain about the width of text on a web page, and you're the lucky winner today--sorry ;-)<br><br>This could be a good article--from the looks of it, it probably is--but why is it (and so many other web pages today) so wide? <br><br>Checking one line at random, it is 130 characters wide:  <br><br>echo &quot;Meanwhile, however, the computers — still quite large and primitive, but able to multitask — were becoming powerful enough to&quot; | wc<br>      1      20     130<br><br>Oh, and I'm ignoring the stuff in the left hand panel / column--I simply horizontally scroll so that panel is not visible.<br><br>.....<br></div><br>You mean you aren't browsing this page with a teletype?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 10-Apr-2014 14:05</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">&gt; Writing to a TTY which is stopped due to flow control, ...... will block your process<br><br>I can't understand? The process will not blocked when TTY is stopped by flow control(ctrl+S), the foreground process will continue running. The only difference is I can't see the display until I type ctrl+Q again.<br><br>Thanks for you article<br>nyu</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 10-Jul-2014 13:03</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&gt; Writing to a TTY which is stopped due to flow control, ...... will block your process<br>I can't understand? The process will not blocked when TTY is stopped by flow control(ctrl+S), the foreground process will continue running. The only difference is I can't see the display until I type ctrl+Q again.</div><br>You're right Nyu... and this running process may be blocked when the TTY kernel buffer is full of non-displayed characters, if it outputs too much on stdout/stderr.<br>I guess the author has taken a shortcut when writing this, as the flow control stop is often used to block a too verbose process and to be able to read few lines before let it go on again.<br><br>Yves</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 14-Jul-2014 13:16</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">great post!!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 24-Jul-2014 11:39</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hi!<br>I'm struggling with RS485 communication:<br>Is it possible to configure a tty to automatically raise the RTS line before sending and lower the RTS line after sending?<br>Thank you for your input,<br>Helmut</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 28-Jul-2014 13:13</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">the VT100 was not a colour terminal as the text suggests, though.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 29-Jul-2014 00:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Unix purist &lt;- I WAS HERE  +1 great article</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  5-Aug-2014 11:29</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article - I will recommend it to my network.<br><br>Kind regards,<br>Christian from Germany</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue  2-Sep-2014 18:01</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">the VT100 was not a colour terminal as the text suggests, though.</div><br>seems so, just checked the manuals online. http://www.vt100.net/docs/<br><br>do you perhaps know which terminal introduced color attributes for escape sequences?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  5-Sep-2014 01:13</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">The Plan 9 operating system completely does away with TTY, signals, and ioctl. Everything in Plan 9 is either a file or represented as a file.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 13-Sep-2014 14:33</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">The basic idea is that every pipeline is a job, because every process in a pipeline should be manipulated (stopped, resumed, killed) simultaneously.<br><br>Not just pipelines, every command is a job in shell's parlance. Job is a userspace thing, only maintained by shell, not kernel.<br>http://www.gnu.org/software/bash/manual/bashref.html#Shell-Commands<br><br>Niz</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 24-Sep-2014 14:34</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">By far the most amazing article about TTY I have ever read, thanks!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 12-Oct-2014 19:04</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article. Thank you! After 15 years of using unix and linux i finally got to the description of ttys :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 14-Nov-2014 02:31</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Fantastic article. Thanks for doing all of the legwork. :)<br><br>-pf</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 16-Nov-2014 03:37</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you so for the article!<br>And now, I know the meaning of &quot;tty&quot; and &quot;pty&quot;!<br><br>Maya2003</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed  3-Dec-2014 16:42</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Great article, thanks a lot!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 14-Jan-2015 21:09</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is the best article I have ever read about tty.<br><br>Thanks a lot!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon  9-Feb-2015 03:38</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you !!! :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 15-Feb-2015 23:47</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Yup, interesting intro to the TTY area, I think, and fun trying out the terminal tweaks..but any ideas of where I can find a good intro to using TTY in Linux, without the writer assuming I know all about networking/the Linux kernel in advance??? Please and thank-you.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 15-Feb-2015 23:47</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Yup, interesting intro to the TTY area, I think, and fun trying out the terminal tweaks..but any ideas of where I can find a good intro to using TTY in Linux, without the writer assuming I know all about networking/the Linux kernel in advance??? Please and thank-you.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>zdennis</b><br>Zach Dennis<br>Mon  9-Mar-2015 00:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Yup, interesting intro to the TTY area, I think, and fun trying out the terminal tweaks..but any ideas of where I can find a good intro to using TTY in Linux, without the writer assuming I know all about networking/the Linux kernel in advance??? Please and thank-you.</div><br>The O'Reilly book titled &quot;Termcap &amp; TermInfo&quot; should get you started: http://www.amazon.com/termcap-terminfo-OReilly-Nutshell-Linda/dp/0937175226</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 12-Apr-2015 00:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">best tty explanation ever written, hands down. <br><br>thank you so very much.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Wed 15-Apr-2015 01:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I'm not especially new to bash programming or serial ports in general, but have never delved into stty and echo.<br><br>So I have a simple script (and I'm not sure I have the stty settings right), that should send &quot;tx c&quot; to the serial port. However, the best I can tell using minicom, if I perform the following from the command line: <br><br>     echo tx c &gt; /dev/ttyO1<br><br>the serial device receives:<br><br>     tx.{<br><br>echo aaa &gt; /dev/ttyO1 echos aay<br>echo bbbbb &gt; /dev/ttyO1 echos bbbbz<br>echo abcdefghijklmnop &gt; /dev/ttyO1 echos abeefgkijkmmnoz<br><br>WHAT am I missing?</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 21-Apr-2015 18:45</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is best ever article on TTY. What an awesome job. Please keep writing such articles.<br>Chakri</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  8-May-2015 14:00</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">The best article about tty ever! no kidding.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 25-Jul-2015 20:08</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">very useful! thanks~</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 30-Jul-2015 06:41</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I am new to Linux but this article is so clear even i can taste 60% of them. I will read it again a couple days later because this is the best article i ever read about linux.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 15-Aug-2015 21:45</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">amazingly clear on a very fundamental piece of technology that I never really knew about. Just the build up of the subject is a great way to approach any kind of technical writing.  I'll definitely keep this post in mind when I try to tackle writing about a complicated technical subject.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 16-Aug-2015 05:57</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !<br><br>  Thank you David McKenzie for your contribution to open source community !<br><br>  I am just wondering what in your background that enabled the FSF to accept such worthless contribution ?<br><br>  Member of what masonic lodge or what church or son of a war hero or billonarties you have to be so they accept that piece of crap ?<br><br>  For reference:<br><br> yes command - otputs a line on tty until killed !<br><br>  coded and added to Linux in 2009.</div><br><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">HISTORY<br>     The yes command appeared in Version 7 AT&amp;T UNIX.<br></div>The code for this in GNU is ridiculously long, but in other systems, the code is shorter than the license or the above comment<br><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">#include &lt;stdio.h&gt;<br><br>int<br>main(int argc, char *argv[])<br>{<br>        if (argc &gt; 1)<br>                for (;;)<br>                        puts(argv[1]);<br>        else<br>                for (;;)<br>                        puts(&quot;y&quot;);<br>}<br></div></div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>i336_</b><br>David Lindsay<br>Tue 18-Aug-2015 18:55</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is really cool. I've just discovered this; I might have more to add after I've properly read through it. While I remember, though, I want to mention one of the better resources I've found for terminal escape sequences: an old online manpage for dtterm(5), at<br><br>http://www2.phys.canterbury.ac.nz/dept/docs/manuals/unix/DEC_4.0e_Docs/HTML/MAN/MAN5/0036____.HTM<br><br>Also, the following Github Gist is updated extremely frequently (6 days ago, as I type this); it tracks terminal support for 24-bit color, a fairly new capability that's slowly gaining traction. You should be able to just expect it to be available 3-5 years from now; terminals in hyper-current distros like Arch likely have the support already.<br><br>https://gist.github.com/XVilka/8346728</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 22-Sep-2015 06:41</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thanks for a great explanation of infrequently discussed, arcane, but essential part of the Unix/Linux &quot;reptile brain&quot;. Required knowledge for anyone who hopes to use Unix/Linux beyond a novice level.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 30-Nov-2015 10:35</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Amazing. Very very needed. Thank you very much.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  4-Dec-2015 09:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Very nice summary for those born too late :-)<br><br>It might be worth mentioning that UARTs/serial ports have control lines to block transmission when the received data can't be processed as fast as it's received.<br>This way the UART itself would stop transmitting and the whole process was handled in hardware.<br>The sending process would have to wait (be blocked) for the UART to transmit it's data anyway, as the hardware would mostly be slower than the software anyway.<br><br>However when modems came in to play, the terminals UART and the hosts UART were no longer directly wired to each other and modems would only transmit data and no control lines between them. This situation required another method of flow control that would have to be transmitted in-band with the data. So software flow control via device control characters was invented.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu  7-Jan-2016 13:45</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">5</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 12-Jan-2016 17:07</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Really good document,thanks for your great efforts</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri  5-Feb-2016 15:34</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I am learning linux... and it is best article to understand what is going under the hood:) thanks for your time</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 20-Feb-2016 02:55</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Good job demystifying TTY for me. Keep it up.<br><br>Cheers</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 10-Mar-2016 02:06</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This and all OK.. But.. I have one doubt for long time... In case of terminal emulator we can navigate/scroll using mouse.. How do we scroll/navigate inside TTY (I am a Linux beginner.. So sorry if it's a stupid question)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lft</b><br>Linus Åkesson<br>Wed 30-Mar-2016 00:35</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">This and all OK.. But.. I have one doubt for long time... In case of terminal emulator we can navigate/scroll using mouse.. How do we scroll/navigate inside TTY (I am a Linux beginner.. So sorry if it's a stupid question)</div><br>Hi! That is not handled by the TTY layer, it is done by the terminal emulator itself. Whenever something scrolls off-screen, it is appended to a scrollback buffer, which you can then view using GUI controls or keyboard shortcuts.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 31-Mar-2016 00:02</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Yes! More than I was looking for, but I'm not complaining. Brilliant article, and now I know enough to stay the fuck away until I must.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat  9-Apr-2016 03:04</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">really cool thanx to share your knowledge</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sun 10-Apr-2016 05:34</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Hello Linus! I have a question about what happens when you kill a process in raw mode. If you launch, say, vim in a terminal and then run `killall -9 vim` from a separate terminal, you would expect the original terminal to be left in raw mode after vim exits (as if you had run `stty raw` or something). However, surprisingly, it is left in canonical mode. I have tried this with multiple shells, terminal emulators, and OS's, and only urxvt behaves differently from this. My question is, what mechanism resets the terminal in this case?<br><br>-- kc</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><b>lcu</b><br>Luis Colorado<br>Thu 14-Apr-2016 16:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Hello Linus! I have a question about what happens when you kill a process in raw mode. If you launch, say, vim in a terminal and then run `killall -9 vim` from a separate terminal, you would expect the original terminal to be left in raw mode after vim exits (as if you had run `stty raw` or something). However, surprisingly, it is left in canonical mode. I have tried this with multiple shells, terminal emulators, and OS's, and only urxvt behaves differently from this. My question is, what mechanism resets the terminal in this case?<br><br>-- kc</div>Historically, the UNIX tty driver used to reset terminal settings to known values (300bps, some parity, cooked mode, etc.) in close() callback (which was called by the kernel only on last close to the device only) but this was found nonsense, because normal initial session programs like old /etc/getty (yes, it was stored there) were to initialize it fully.  This had some drawbacks, because this last close could happen when not needed and the reasons to conserve settings between close where significant.<br><br>This requirement has been dropped from linux kernel and now linux allows you to fix terminal settings from a previous shell command without losing those settings because of a last close issue.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 22-Apr-2016 06:21</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Thank you sir. You have been helpful.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Mon 16-May-2016 23:57</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">Thank you. I don't think this article will EVER be outdated :P</div>The images of it already are on high resolution monitors.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu 23-Jun-2016 22:00</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Best article regarding this mess!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Fri 15-Jul-2016 23:14</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">This is just awesome!  I have old phone co UNIX books that don't go into this depth!   Thx for this info</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 16-Jul-2016 21:19</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Nice one. Thanks.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Sat 23-Jul-2016 16:39</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I'm using python on Debian os.<br>I've interfaced bluetooth to uart.<br>The data coming from bluetooth is received and can be monitored on ttyS0.<br>Can someone tell me how to copy that data.<br>I want to paste it in a text file</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 30-Aug-2016 00:34</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">&quot;yes&quot; program , produced in 2009 !<br><br>.... cut ....<br><br>  For reference:<br><br> yes command - otputs a line on tty until killed !<br><br>  coded and added to Linux in 2009.</div><br>Interesting! I remember I made a joke with yes program to my friend in 1996 by using Slackware Linux I.e. Linux kernel so new.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 30-Aug-2016 01:03</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">I'm not especially new to bash programming or serial ports in general, but have never delved into stty and echo.<br><br>So I have a simple script (and I'm not sure I have the stty settings right), that should send &quot;tx c&quot; to the serial port. However, the best I can tell using minicom, if I perform the following from the command line: <br><br>     echo tx c &gt; /dev/ttyO1<br><br>the serial device receives:<br><br>     tx.{<br><br>echo aaa &gt; /dev/ttyO1 echos aay<br>echo bbbbb &gt; /dev/ttyO1 echos bbbbz<br>echo abcdefghijklmnop &gt; /dev/ttyO1 echos abeefgkijkmmnoz<br><br>WHAT am I missing?</div><br>Not sure about your system but in my old linux systems with serial port, device was ttyS01 but not tty01.</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 30-Aug-2016 01:11</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">This and all OK.. But.. I have one doubt for long time... In case of terminal emulator we can navigate/scroll using mouse.. How do we scroll/navigate inside TTY (I am a Linux beginner.. So sorry if it's a stupid question)</div><br>Shift+page up/down<br><br>This will do the job both in fyi terminal emulators and the ones on TTYs (ctrl+alt+F1, etc.).</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 30-Aug-2016 01:23</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">I'm not especially new to bash programming or serial ports in general, but have never delved into stty and echo.<br><br>So I have a simple script (and I'm not sure I have the stty settings right), that should send &quot;tx c&quot; to the serial port. However, the best I can tell using minicom, if I perform the following from the command line: <br><br>     echo tx c &gt; /dev/ttyO1<br><br>the serial device receives:<br><br>     tx.{<br><br>echo aaa &gt; /dev/ttyO1 echos aay<br>echo bbbbb &gt; /dev/ttyO1 echos bbbbz<br>echo abcdefghijklmnop &gt; /dev/ttyO1 echos abeefgkijkmmnoz<br><br>WHAT am I missing?</div><br>Not sure about your system but in my old linux systems with serial port, device was ttyS01 but not tty01.</div><br>It seems ttyO1 works for you.<br>Maybe outrun a CR and LF at the end of the echoed words will help.<br>Indeed CR may not be needed.<br><br>Try this:<br>echo bbbbb\n\r &gt; /dev/ttyO1<br><br>Hope it works *fingers crossed* :)</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Tue 30-Aug-2016 01:29</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">I have been with Linux and UNIX systems since 1994. They were good old days and I am learning these amazing knowledge just now from this article.<br>Fantastic job Linus. Thank you so much!<br><br>Bedri Özgür Güler</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:white;background-color:rgb(223, 223, 192);"><div style="width:9em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;">Anonymous<br>Thu  6-Oct-2016 21:39</div><div style="max-width:33em;word-wrap:break-word;display:inline-block;vertical-align:top;padding:8px;"><div style="border:1px solid rgb(68, 68, 0);margin:4px 0px 4px 2em;padding:4px;word-wrap:break-word;background-color:rgb(239, 239, 239);">   * the text should be arranged to wrap to the width of the (reader's) window<br></div><br>Whilst I agree with you entirely, this article wraps just as you request.<br><br>Of course, it may have been altered in the many years since you wrote your comment :-) but credit where credit is due!</div><div style="display:block;text-align:right;"><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div><div style="margin:8px;width:8em;display:inline-block;"><div style="padding:0px;margin:0px;"><div></div></div></div></div></div>
<div style="padding:0px;margin:0px;"><div></div></div></div>
</div></div></div></div></div></div></div><br></div></div>
</div></body></html> 